{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.domain = void 0;\nconst array_1 = require(\"./array\");\nconst CharacterRangeArbitraryBuilder_1 = require(\"./_internals/builders/CharacterRangeArbitraryBuilder\");\nconst option_1 = require(\"./option\");\nconst stringOf_1 = require(\"./stringOf\");\nconst tuple_1 = require(\"./tuple\");\nconst InvalidSubdomainLabelFiIter_1 = require(\"./_internals/helpers/InvalidSubdomainLabelFiIter\");\nconst MaxLengthFromMinLength_1 = require(\"./_internals/helpers/MaxLengthFromMinLength\");\nconst AdapterArbitrary_1 = require(\"./_internals/AdapterArbitrary\");\nfunction toSubdomainLabelMapper(_ref) {\n  let [f, d] = _ref;\n  return d === null ? f : `${f}${d[0]}${d[1]}`;\n}\nfunction toSubdomainLabelUnmapper(value) {\n  if (typeof value !== 'string' || value.length === 0) {\n    throw new Error('Unsupported');\n  }\n  if (value.length === 1) {\n    return [value[0], null];\n  }\n  return [value[0], [value.substring(1, value.length - 1), value[value.length - 1]]];\n}\nfunction subdomainLabel(size) {\n  const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)([]);\n  const alphaNumericHyphenArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)(['-']);\n  return (0, tuple_1.tuple)(alphaNumericArb, (0, option_1.option)((0, tuple_1.tuple)((0, stringOf_1.stringOf)(alphaNumericHyphenArb, {\n    size,\n    maxLength: 61\n  }), alphaNumericArb))).map(toSubdomainLabelMapper, toSubdomainLabelUnmapper).filter(InvalidSubdomainLabelFiIter_1.filterInvalidSubdomainLabel);\n}\nfunction labelsMapper(elements) {\n  return `${elements[0].join('.')}.${elements[1]}`;\n}\nfunction labelsUnmapper(value) {\n  if (typeof value !== 'string') {\n    throw new Error('Unsupported type');\n  }\n  const lastDotIndex = value.lastIndexOf('.');\n  return [value.substring(0, lastDotIndex).split('.'), value.substring(lastDotIndex + 1)];\n}\nfunction labelsAdapter(labels) {\n  const [subDomains, suffix] = labels;\n  let lengthNotIncludingIndex = suffix.length;\n  for (let index = 0; index !== subDomains.length; ++index) {\n    lengthNotIncludingIndex += 1 + subDomains[index].length;\n    if (lengthNotIncludingIndex > 255) {\n      return {\n        adapted: true,\n        value: [subDomains.slice(0, index), suffix]\n      };\n    }\n  }\n  return {\n    adapted: false,\n    value: labels\n  };\n}\nfunction domain() {\n  let constraints = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const resolvedSize = (0, MaxLengthFromMinLength_1.resolveSize)(constraints.size);\n  const resolvedSizeMinusOne = (0, MaxLengthFromMinLength_1.relativeSizeToSize)('-1', resolvedSize);\n  const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaArbitrary)([]);\n  const publicSuffixArb = (0, stringOf_1.stringOf)(alphaNumericArb, {\n    minLength: 2,\n    maxLength: 63,\n    size: resolvedSizeMinusOne\n  });\n  return (0, AdapterArbitrary_1.adapter)((0, tuple_1.tuple)((0, array_1.array)(subdomainLabel(resolvedSize), {\n    size: resolvedSizeMinusOne,\n    minLength: 1,\n    maxLength: 127\n  }), publicSuffixArb), labelsAdapter).map(labelsMapper, labelsUnmapper);\n}\nexports.domain = domain;","map":{"version":3,"names":["Object","defineProperty","exports","value","domain","array_1","require","CharacterRangeArbitraryBuilder_1","option_1","stringOf_1","tuple_1","InvalidSubdomainLabelFiIter_1","MaxLengthFromMinLength_1","AdapterArbitrary_1","toSubdomainLabelMapper","_ref","f","d","toSubdomainLabelUnmapper","length","Error","substring","subdomainLabel","size","alphaNumericArb","buildLowerAlphaNumericArbitrary","alphaNumericHyphenArb","tuple","option","stringOf","maxLength","map","filter","filterInvalidSubdomainLabel","labelsMapper","elements","join","labelsUnmapper","lastDotIndex","lastIndexOf","split","labelsAdapter","labels","subDomains","suffix","lengthNotIncludingIndex","index","adapted","slice","constraints","arguments","undefined","resolvedSize","resolveSize","resolvedSizeMinusOne","relativeSizeToSize","buildLowerAlphaArbitrary","publicSuffixArb","minLength","adapter","array"],"sources":["/Users/karimelbarbary/Desktop/test4/devote/node_modules/fast-check/lib/arbitrary/domain.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.domain = void 0;\nconst array_1 = require(\"./array\");\nconst CharacterRangeArbitraryBuilder_1 = require(\"./_internals/builders/CharacterRangeArbitraryBuilder\");\nconst option_1 = require(\"./option\");\nconst stringOf_1 = require(\"./stringOf\");\nconst tuple_1 = require(\"./tuple\");\nconst InvalidSubdomainLabelFiIter_1 = require(\"./_internals/helpers/InvalidSubdomainLabelFiIter\");\nconst MaxLengthFromMinLength_1 = require(\"./_internals/helpers/MaxLengthFromMinLength\");\nconst AdapterArbitrary_1 = require(\"./_internals/AdapterArbitrary\");\nfunction toSubdomainLabelMapper([f, d]) {\n    return d === null ? f : `${f}${d[0]}${d[1]}`;\n}\nfunction toSubdomainLabelUnmapper(value) {\n    if (typeof value !== 'string' || value.length === 0) {\n        throw new Error('Unsupported');\n    }\n    if (value.length === 1) {\n        return [value[0], null];\n    }\n    return [value[0], [value.substring(1, value.length - 1), value[value.length - 1]]];\n}\nfunction subdomainLabel(size) {\n    const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)([]);\n    const alphaNumericHyphenArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)(['-']);\n    return (0, tuple_1.tuple)(alphaNumericArb, (0, option_1.option)((0, tuple_1.tuple)((0, stringOf_1.stringOf)(alphaNumericHyphenArb, { size, maxLength: 61 }), alphaNumericArb)))\n        .map(toSubdomainLabelMapper, toSubdomainLabelUnmapper)\n        .filter(InvalidSubdomainLabelFiIter_1.filterInvalidSubdomainLabel);\n}\nfunction labelsMapper(elements) {\n    return `${elements[0].join('.')}.${elements[1]}`;\n}\nfunction labelsUnmapper(value) {\n    if (typeof value !== 'string') {\n        throw new Error('Unsupported type');\n    }\n    const lastDotIndex = value.lastIndexOf('.');\n    return [value.substring(0, lastDotIndex).split('.'), value.substring(lastDotIndex + 1)];\n}\nfunction labelsAdapter(labels) {\n    const [subDomains, suffix] = labels;\n    let lengthNotIncludingIndex = suffix.length;\n    for (let index = 0; index !== subDomains.length; ++index) {\n        lengthNotIncludingIndex += 1 + subDomains[index].length;\n        if (lengthNotIncludingIndex > 255) {\n            return { adapted: true, value: [subDomains.slice(0, index), suffix] };\n        }\n    }\n    return { adapted: false, value: labels };\n}\nfunction domain(constraints = {}) {\n    const resolvedSize = (0, MaxLengthFromMinLength_1.resolveSize)(constraints.size);\n    const resolvedSizeMinusOne = (0, MaxLengthFromMinLength_1.relativeSizeToSize)('-1', resolvedSize);\n    const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaArbitrary)([]);\n    const publicSuffixArb = (0, stringOf_1.stringOf)(alphaNumericArb, { minLength: 2, maxLength: 63, size: resolvedSizeMinusOne });\n    return ((0, AdapterArbitrary_1.adapter)((0, tuple_1.tuple)((0, array_1.array)(subdomainLabel(resolvedSize), { size: resolvedSizeMinusOne, minLength: 1, maxLength: 127 }), publicSuffixArb), labelsAdapter).map(labelsMapper, labelsUnmapper));\n}\nexports.domain = domain;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}