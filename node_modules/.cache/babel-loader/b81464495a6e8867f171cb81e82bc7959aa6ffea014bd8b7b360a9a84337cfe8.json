{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUint8ArrayLike = exports.bytesCases = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)(\"codec:wrap:bytes\");\nconst dispatch_1 = require(\"./dispatch\");\nconst errors_1 = require(\"./errors\");\nconst Conversion = __importStar(require(\"../conversion\"));\nconst Utils = __importStar(require(\"./utils\"));\nconst Messages = __importStar(require(\"./messages\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst bytesFromStringCases = [bytesFromHexString, bytesFromIntegerString //dynamic loose mode only; make sure this goes after hex string case!\n];\n\nconst bytesCasesBasic = [...bytesFromStringCases, bytesFromBoxedString, bytesFromUint8ArrayLike, bytesFromCodecBytesValue, bytesFromCodecUdvtValue, bytesFromEncodingTextInput, bytesFromNumber, bytesFromBoxedNumber, bytesFromBigint, bytesFromBN, bytesFromBig, bytesFromOther //dynamic loose mode only, is failure case otherwise. Make sure this goes last!\n];\n\nexports.bytesCases = [bytesFromTypeValueInput, ...bytesCasesBasic];\nfunction* bytesFromHexString(dataType, input, wrapOptions) {\n  if (typeof input !== \"string\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a string\");\n  }\n  const trimmed = Utils.removeUnderscoresHex(input);\n  //(but not between individual hex digits)\n  if (!Utils.isByteString(trimmed)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.notABytestringMessage(\"Input\"));\n  }\n  const asHex = validateAndPad(dataType, trimmed, input, wrapOptions.name);\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromIntegerString(dataType, input, wrapOptions) {\n  if (!wrapOptions.loose || dataType.kind === \"static\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, Messages.looseModeOnlyMessage);\n  }\n  if (typeof input !== \"string\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a string\");\n  }\n  if (input.trim() === \"\") {\n    //bigint accepts this but we shouldn't\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.notABytestringMessage(\"Input\"));\n  }\n  const trimmed = Utils.removeUnderscoresNumeric(input);\n  let asBigInt;\n  try {\n    //we'll use BigInt to parse integer strings, as it's pretty good at it.\n    //Note that it accepts hex/octal/binary with prefixes 0x, 0o, 0b.\n    asBigInt = BigInt(trimmed);\n  } catch (_a) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input string was not a byte string or integer string\");\n  }\n  if (asBigInt < 0) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.negativeBytesMessage);\n  }\n  let asHex = Conversion.toHexString(asBigInt);\n  asHex = adjustZeroNumericInput(asHex);\n  //because we're in dynamic case, we can skip validateAndPad\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromBoxedString(dataType, input, wrapOptions) {\n  if (!Utils.isBoxedString(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a boxed string\");\n  }\n  //defer to primitive string cases\n  return yield* (0, dispatch_1.wrapWithCases)(dataType, input.valueOf(), wrapOptions, bytesFromStringCases);\n}\nfunction* bytesFromUint8ArrayLike(dataType, input, wrapOptions) {\n  if (!Utils.isUint8ArrayLike(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a Uint8Array-like\");\n  }\n  //the next series of checks is delegated to a helper fn\n  validateUint8ArrayLike(input, dataType, wrapOptions.name); //(this fn just throws an appropriate error if something's bad)\n  let asHex = Conversion.toHexString(new Uint8Array(input)); //I am surprised TS accepts this!\n  asHex = validateAndPad(dataType, asHex, input, wrapOptions.name);\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromEncodingTextInput(dataType, input, wrapOptions) {\n  if (!Utils.isEncodingTextInput(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a in encoding/text form\");\n  }\n  if (input.encoding !== \"utf8\") {\n    //(the only allowed encoding :P )\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, `Unknown or unsupported text encoding ${input.encoding}`);\n  }\n  let asHex;\n  try {\n    asHex = Conversion.toHexString(Conversion.stringToBytes(input.text));\n  } catch (_a) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.invalidUtf16Message);\n  }\n  asHex = validateAndPad(dataType, asHex, input, wrapOptions.name);\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromCodecBytesValue(dataType, input, wrapOptions) {\n  if (!Utils.isWrappedResult(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a wrapped result\");\n  }\n  if (input.type.typeClass !== \"bytes\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  if (input.kind !== \"value\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.errorResultMessage);\n  }\n  if (!wrapOptions.loose && !(input.type.kind === \"dynamic\" && dataType.kind === \"dynamic\") && !(input.type.kind === \"static\" && dataType.kind === \"static\" && input.type.length === dataType.length)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  let asHex = input.value.asHex;\n  asHex = validateAndPad(dataType, asHex, input, wrapOptions.name);\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromCodecUdvtValue(dataType, input, wrapOptions) {\n  if (!Utils.isWrappedResult(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a wrapped result\");\n  }\n  if (input.type.typeClass !== \"userDefinedValueType\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, Messages.wrappedTypeMessage(input.type));\n  }\n  if (input.kind !== \"value\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.errorResultMessage);\n  }\n  return yield* bytesFromCodecBytesValue(dataType, input.value, wrapOptions);\n}\nfunction* bytesFromTypeValueInput(dataType, input, wrapOptions) {\n  if (!Utils.isTypeValueInput(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a type/value pair\");\n  }\n  if (!input.type.match(/^byte(s\\d*)?$/)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.specifiedTypeMessage(input.type));\n  }\n  debug(\"input.type: %s\", input.type);\n  //now: determine the specified length; we use \"null\" for dynamic\n  //note that \"byte\" is allowed, with a length of 1\n  let length = null;\n  let match = input.type.match(/^bytes(\\d+)$/);\n  if (match) {\n    length = Number(match[1]); //static case with specified number\n  } else if (input.type === \"byte\") {\n    //\"byte\" case; set length to 1\n    length = 1;\n  }\n  //otherwise, it's dynamic, so leave it at the default of null\n  debug(\"length: %o\", length);\n  //check: does the specified length match the data type length?\n  if (!(length === null && dataType.kind === \"dynamic\") && !(dataType.kind === \"static\" && length === dataType.length)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.specifiedTypeMessage(input.type));\n  }\n  //extract value & try again, with loose option turned on\n  return yield* (0, dispatch_1.wrapWithCases)(dataType, input.value, Object.assign(Object.assign({}, wrapOptions), {\n    loose: true\n  }), bytesCasesBasic);\n}\nfunction* bytesFromNumber(dataType, input, wrapOptions) {\n  if (!wrapOptions.loose || dataType.kind === \"static\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, Messages.looseModeOnlyMessage);\n  }\n  if (typeof input !== \"number\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a number\");\n  }\n  if (!Number.isInteger(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.nonIntegerMessage);\n  }\n  if (!Number.isSafeInteger(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.nonSafeMessage);\n  }\n  if (input < 0) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.negativeBytesMessage);\n  }\n  let asHex = Conversion.toHexString(input);\n  asHex = adjustZeroNumericInput(asHex);\n  //because we're in dynamic case, we can skip validateAndPad\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromBoxedNumber(dataType, input, wrapOptions) {\n  //skipping the wrapOptions.loose check, as that'll get checked\n  //in bytesFromNumber\n  if (!Utils.isBoxedNumber(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a boxed number\");\n  }\n  //unbox and try again\n  return yield* bytesFromNumber(dataType, input.valueOf(), wrapOptions);\n}\nfunction* bytesFromBigint(dataType, input, wrapOptions) {\n  if (!wrapOptions.loose || dataType.kind === \"static\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, Messages.looseModeOnlyMessage);\n  }\n  if (typeof input !== \"bigint\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a bigint\");\n  }\n  if (input < 0) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.negativeBytesMessage);\n  }\n  let asHex = Conversion.toHexString(input);\n  asHex = adjustZeroNumericInput(asHex);\n  //because we're in dynamic case, we can skip validateAndPad\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromBN(dataType, input, wrapOptions) {\n  if (!wrapOptions.loose || dataType.kind === \"static\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, Messages.looseModeOnlyMessage);\n  }\n  if (!bn_js_1.default.isBN(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a BN\");\n  }\n  if (input.isNeg()) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.negativeBytesMessage);\n  }\n  let asHex = Conversion.toHexString(input);\n  asHex = adjustZeroNumericInput(asHex);\n  //because we're in dynamic case, we can skip validateAndPad\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromBig(dataType, input, wrapOptions) {\n  if (!wrapOptions.loose || dataType.kind === \"static\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, Messages.looseModeOnlyMessage);\n  }\n  if (!Conversion.isBig(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a Big\");\n  }\n  if (Conversion.countDecimalPlaces(input) !== 0) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.nonIntegerMessage);\n  }\n  if (input.lt(0)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.negativeBytesMessage);\n  }\n  let asHex = Conversion.toHexString(input);\n  asHex = adjustZeroNumericInput(asHex);\n  //because we're in dynamic case, we can skip validateAndPad\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction* bytesFromOther(dataType, input, wrapOptions) {\n  if (!wrapOptions.loose || dataType.kind === \"static\") {\n    //outside of the dynamic-loose case, this is just a failure case\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 2, \"Input was not a hex string, byte-array-alike, encoding/text pair, type/value pair, or wrapped bytestring\");\n  }\n  const request = {\n    kind: \"integer\",\n    input\n  };\n  const response = yield request;\n  if (response.kind !== \"integer\") {\n    throw new errors_1.BadResponseTypeError(request, response);\n  }\n  if (response.value === null) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, response.partiallyRecognized ? 5 : 3, response.reason || \"Input was not a hex string, byte-array-alike, encoding/text pair, type/value pair, integer input, or wrapped bytestring\");\n  }\n  if (response.value < 0) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.negativeBytesMessage);\n  }\n  let asHex = Conversion.toHexString(response.value);\n  asHex = adjustZeroNumericInput(asHex);\n  //because we're in dynamic case, we can skip validateAndPad\n  return {\n    //TS is complaining again\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asHex\n    }\n  };\n}\nfunction validateUint8ArrayLike(input, dataType,\n//for error information\nname //for error information\n) {\n  //this function doesn't return anything, it just throws errors if something\n  //goes wrong\n  if (input instanceof Uint8Array) {\n    return; //honest Uint8Arrays don't need checking\n  }\n\n  if (!Number.isSafeInteger(input.length)) {\n    throw new errors_1.TypeMismatchError(dataType, input, name, 5, \"Input is byte-array-like, but its length is not a safe integer\");\n  }\n  if (input.length < 0) {\n    throw new errors_1.TypeMismatchError(dataType, input, name, 5, \"Input is byte-array-like, but its length is negative\");\n  }\n  //check: is it actually like a Uint8Array?\n  for (let index = 0; index < input.length; index++) {\n    if (typeof input[index] !== \"number\" || input[index] < 0 || input[index] >= 256 || !Number.isInteger(input[index])) {\n      throw new errors_1.TypeMismatchError(dataType, input, name, 5, `Input is byte-array-like, but byte ${index} is not a 1-byte value (number from 0 to 255)`);\n    }\n  }\n  //otherwise, we didn't throw any errors, so return\n}\n\nexports.validateUint8ArrayLike = validateUint8ArrayLike;\nfunction validateAndPad(dataType, asHex, input,\n//for errors\nname //for errors\n) {\n  asHex = asHex.toLowerCase();\n  //if static, validate and pad\n  if (dataType.kind === \"static\") {\n    if ((asHex.length - 2) / 2 > dataType.length) {\n      throw new errors_1.TypeMismatchError(dataType, input, name, 5, Messages.overlongMessage(dataType.length, (asHex.length - 2) / 2));\n    } else {\n      asHex = asHex.padEnd(dataType.length * 2 + 2, \"00\");\n    }\n  }\n  return asHex;\n}\n//special case for ethers compatibility; represents 0 as 0x00 rather than 0x.\n//only for numeric input in loose mode, in dynamic case, for compatibility; not\n//for ordinary hex input, where the two are distinct!\nfunction adjustZeroNumericInput(asHex) {\n  return asHex === \"0x\" ? \"0x00\" : asHex;\n}","map":{"version":3,"names":["debug_1","__importDefault","require","debug","default","dispatch_1","errors_1","Conversion","__importStar","Utils","Messages","bn_js_1","bytesFromStringCases","bytesFromHexString","bytesFromIntegerString","bytesCasesBasic","bytesFromBoxedString","bytesFromUint8ArrayLike","bytesFromCodecBytesValue","bytesFromCodecUdvtValue","bytesFromEncodingTextInput","bytesFromNumber","bytesFromBoxedNumber","bytesFromBigint","bytesFromBN","bytesFromBig","bytesFromOther","exports","bytesCases","bytesFromTypeValueInput","dataType","input","wrapOptions","TypeMismatchError","name","trimmed","removeUnderscoresHex","isByteString","notABytestringMessage","asHex","validateAndPad","type","kind","value","loose","looseModeOnlyMessage","trim","removeUnderscoresNumeric","asBigInt","BigInt","_a","negativeBytesMessage","toHexString","adjustZeroNumericInput","isBoxedString","wrapWithCases","valueOf","isUint8ArrayLike","validateUint8ArrayLike","Uint8Array","isEncodingTextInput","encoding","stringToBytes","text","invalidUtf16Message","isWrappedResult","typeClass","wrappedTypeMessage","errorResultMessage","length","isTypeValueInput","match","specifiedTypeMessage","Number","Object","assign","isInteger","nonIntegerMessage","isSafeInteger","nonSafeMessage","isBoxedNumber","isBN","isNeg","isBig","countDecimalPlaces","lt","request","response","BadResponseTypeError","partiallyRecognized","reason","index","toLowerCase","overlongMessage","padEnd"],"sources":["../../../lib/wrap/bytes.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,OAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAMC,KAAK,GAAG,IAAAH,OAAA,CAAAI,OAAW,EAAC,kBAAkB,CAAC;AAG7C,MAAAC,UAAA,GAAAH,OAAA;AACA,MAAAI,QAAA,GAAAJ,OAAA;AAGA,MAAAK,UAAA,GAAAC,YAAA,CAAAN,OAAA;AACA,MAAAO,KAAA,GAAAD,YAAA,CAAAN,OAAA;AACA,MAAAQ,QAAA,GAAAF,YAAA,CAAAN,OAAA;AACA,MAAAS,OAAA,GAAAV,eAAA,CAAAC,OAAA;AAEA,MAAMU,oBAAoB,GAIpB,CACJC,kBAAkB,EAClBC,sBAAsB,CAAC;AAAA,CACxB;;AAED,MAAMC,eAAe,GAIf,CACJ,GAAGH,oBAAoB,EACvBI,oBAAoB,EACpBC,uBAAuB,EACvBC,wBAAwB,EACxBC,uBAAuB,EACvBC,0BAA0B,EAC1BC,eAAe,EACfC,oBAAoB,EACpBC,eAAe,EACfC,WAAW,EACXC,YAAY,EACZC,cAAc,CAAC;AAAA,CAChB;;AAEYC,OAAA,CAAAC,UAAU,GAIjB,CAACC,uBAAuB,EAAE,GAAGd,eAAe,CAAC;AAEnD,UAAUF,kBAAkBA,CAC1BiB,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,wBAAwB,CACzB;;EAEH,MAAMC,OAAO,GAAG1B,KAAK,CAAC2B,oBAAoB,CAACL,KAAK,CAAC;EACjD;EACA,IAAI,CAACtB,KAAK,CAAC4B,YAAY,CAACF,OAAO,CAAC,EAAE;IAChC,MAAM,IAAI7B,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAAC4B,qBAAqB,CAAC,OAAO,CAAC,CACxC;;EAEH,MAAMC,KAAK,GAAGC,cAAc,CAACV,QAAQ,EAAEK,OAAO,EAAEJ,KAAK,EAAEC,WAAW,CAACE,IAAI,CAAC;EACxE,OAAiC;IAC/B;IACAO,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUzB,sBAAsBA,CAC9BgB,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACA,WAAW,CAACY,KAAK,IAAId,QAAQ,CAACY,IAAI,KAAK,QAAQ,EAAE;IACpD,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACmC,oBAAoB,CAC9B;;EAEH,IAAI,OAAOd,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,wBAAwB,CACzB;;EAEH,IAAIH,KAAK,CAACe,IAAI,EAAE,KAAK,EAAE,EAAE;IACvB;IACA,MAAM,IAAIxC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAAC4B,qBAAqB,CAAC,OAAO,CAAC,CACxC;;EAEH,MAAMH,OAAO,GAAG1B,KAAK,CAACsC,wBAAwB,CAAChB,KAAK,CAAC;EACrD,IAAIiB,QAAgB;EACpB,IAAI;IACF;IACA;IACAA,QAAQ,GAAGC,MAAM,CAACd,OAAO,CAAC;GAC3B,CAAC,OAAAe,EAAA,EAAM;IACN,MAAM,IAAI5C,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,sDAAsD,CACvD;;EAEH,IAAIc,QAAQ,GAAG,CAAC,EAAE;IAChB,MAAM,IAAI1C,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyC,oBAAoB,CAC9B;;EAEH,IAAIZ,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAACJ,QAAQ,CAAC;EAC5CT,KAAK,GAAGc,sBAAsB,CAACd,KAAK,CAAC;EACrC;EACA,OAAiC;IAC/B;IACAE,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUvB,oBAAoBA,CAC5Bc,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACvB,KAAK,CAAC6C,aAAa,CAACvB,KAAK,CAAC,EAAE;IAC/B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,8BAA8B,CAC/B;;EAEH;EACA,OAAO,OAAO,IAAA7B,UAAA,CAAAkD,aAAa,EACzBzB,QAAQ,EACRC,KAAK,CAACyB,OAAO,EAAE,EACfxB,WAAW,EACXpB,oBAAoB,CACrB;AACH;AAEA,UAAUK,uBAAuBA,CAC/Ba,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACvB,KAAK,CAACgD,gBAAgB,CAAC1B,KAAK,CAAC,EAAE;IAClC,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,iCAAiC,CAClC;;EAEH;EACAwB,sBAAsB,CAAC3B,KAAK,EAAED,QAAQ,EAAEE,WAAW,CAACE,IAAI,CAAC,CAAC,CAAC;EAC3D,IAAIK,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAAC,IAAIO,UAAU,CAAC5B,KAAK,CAAC,CAAC,CAAC,CAAC;EAC3DQ,KAAK,GAAGC,cAAc,CAACV,QAAQ,EAAES,KAAK,EAAER,KAAK,EAAEC,WAAW,CAACE,IAAI,CAAC;EAChE,OAAiC;IAC/B;IACAO,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUnB,0BAA0BA,CAClCU,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACvB,KAAK,CAACmD,mBAAmB,CAAC7B,KAAK,CAAC,EAAE;IACrC,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,uCAAuC,CACxC;;EAEH,IAAIH,KAAK,CAAC8B,QAAQ,KAAK,MAAM,EAAE;IAC7B;IACA,MAAM,IAAIvD,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,wCAAwCH,KAAK,CAAC8B,QAAQ,EAAE,CACzD;;EAEH,IAAItB,KAAa;EACjB,IAAI;IACFA,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAAC7C,UAAU,CAACuD,aAAa,CAAC/B,KAAK,CAACgC,IAAI,CAAC,CAAC;GACrE,CAAC,OAAAb,EAAA,EAAM;IACN,MAAM,IAAI5C,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACsD,mBAAmB,CAC7B;;EAEHzB,KAAK,GAAGC,cAAc,CAACV,QAAQ,EAAES,KAAK,EAAER,KAAK,EAAEC,WAAW,CAACE,IAAI,CAAC;EAChE,OAAiC;IAC/B;IACAO,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUrB,wBAAwBA,CAChCY,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACvB,KAAK,CAACwD,eAAe,CAAClC,KAAK,CAAC,EAAE;IACjC,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,gCAAgC,CACjC;;EAEH,IAAIH,KAAK,CAACU,IAAI,CAACyB,SAAS,KAAK,OAAO,EAAE;IACpC,MAAM,IAAI5D,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyD,kBAAkB,CAACpC,KAAK,CAACU,IAAI,CAAC,CACxC;;EAEH,IAAIV,KAAK,CAACW,IAAI,KAAK,OAAO,EAAE;IAC1B,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAAC0D,kBAAkB,CAC5B;;EAEH,IACE,CAACpC,WAAW,CAACY,KAAK,IAClB,EAAEb,KAAK,CAACU,IAAI,CAACC,IAAI,KAAK,SAAS,IAAIZ,QAAQ,CAACY,IAAI,KAAK,SAAS,CAAC,IAC/D,EACEX,KAAK,CAACU,IAAI,CAACC,IAAI,KAAK,QAAQ,IAC5BZ,QAAQ,CAACY,IAAI,KAAK,QAAQ,IAC1BX,KAAK,CAACU,IAAI,CAAC4B,MAAM,KAAKvC,QAAQ,CAACuC,MAAM,CACtC,EACD;IACA,MAAM,IAAI/D,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyD,kBAAkB,CAACpC,KAAK,CAACU,IAAI,CAAC,CACxC;;EAEH,IAAIF,KAAK,GAA8BR,KAAM,CAACY,KAAK,CAACJ,KAAK;EACzDA,KAAK,GAAGC,cAAc,CAACV,QAAQ,EAAES,KAAK,EAAER,KAAK,EAAEC,WAAW,CAACE,IAAI,CAAC;EAChE,OAAiC;IAC/B;IACAO,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUpB,uBAAuBA,CAC/BW,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACvB,KAAK,CAACwD,eAAe,CAAClC,KAAK,CAAC,EAAE;IACjC,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,gCAAgC,CACjC;;EAEH,IAAIH,KAAK,CAACU,IAAI,CAACyB,SAAS,KAAK,sBAAsB,EAAE;IACnD,MAAM,IAAI5D,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyD,kBAAkB,CAACpC,KAAK,CAACU,IAAI,CAAC,CACxC;;EAEH,IAAIV,KAAK,CAACW,IAAI,KAAK,OAAO,EAAE;IAC1B,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAAC0D,kBAAkB,CAC5B;;EAEH,OAAO,OAAOlD,wBAAwB,CAACY,QAAQ,EAAEC,KAAK,CAACY,KAAK,EAAEX,WAAW,CAAC;AAC5E;AAEA,UAAUH,uBAAuBA,CAC/BC,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACvB,KAAK,CAAC6D,gBAAgB,CAACvC,KAAK,CAAC,EAAE;IAClC,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,iCAAiC,CAClC;;EAEH,IAAI,CAACH,KAAK,CAACU,IAAI,CAAC8B,KAAK,CAAC,eAAe,CAAC,EAAE;IACtC,MAAM,IAAIjE,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAAC8D,oBAAoB,CAACzC,KAAK,CAACU,IAAI,CAAC,CAC1C;;EAEHtC,KAAK,CAAC,gBAAgB,EAAE4B,KAAK,CAACU,IAAI,CAAC;EACnC;EACA;EACA,IAAI4B,MAAM,GAAkB,IAAI;EAChC,IAAIE,KAAK,GAAGxC,KAAK,CAACU,IAAI,CAAC8B,KAAK,CAAC,cAAc,CAAC;EAC5C,IAAIA,KAAK,EAAE;IACTF,MAAM,GAAGI,MAAM,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GAC5B,MAAM,IAAIxC,KAAK,CAACU,IAAI,KAAK,MAAM,EAAE;IAChC;IACA4B,MAAM,GAAG,CAAC;;EAEZ;EACAlE,KAAK,CAAC,YAAY,EAAEkE,MAAM,CAAC;EAC3B;EACA,IACE,EAAEA,MAAM,KAAK,IAAI,IAAIvC,QAAQ,CAACY,IAAI,KAAK,SAAS,CAAC,IACjD,EAAEZ,QAAQ,CAACY,IAAI,KAAK,QAAQ,IAAI2B,MAAM,KAAKvC,QAAQ,CAACuC,MAAM,CAAC,EAC3D;IACA,MAAM,IAAI/D,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAAC8D,oBAAoB,CAACzC,KAAK,CAACU,IAAI,CAAC,CAC1C;;EAEH;EACA,OAAO,OAAO,IAAApC,UAAA,CAAAkD,aAAa,EACzBzB,QAAQ,EACRC,KAAK,CAACY,KAAK,EAAA+B,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACN3C,WAAW;IAAEY,KAAK,EAAE;EAAI,IAC7B7B,eAAe,CAChB;AACH;AAEA,UAAUM,eAAeA,CACvBS,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACA,WAAW,CAACY,KAAK,IAAId,QAAQ,CAACY,IAAI,KAAK,QAAQ,EAAE;IACpD,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACmC,oBAAoB,CAC9B;;EAEH,IAAI,OAAOd,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,wBAAwB,CACzB;;EAEH,IAAI,CAACuC,MAAM,CAACG,SAAS,CAAC7C,KAAK,CAAC,EAAE;IAC5B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACmE,iBAAiB,CAC3B;;EAEH,IAAI,CAACJ,MAAM,CAACK,aAAa,CAAC/C,KAAK,CAAC,EAAE;IAChC,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACqE,cAAc,CACxB;;EAEH,IAAIhD,KAAK,GAAG,CAAC,EAAE;IACb,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyC,oBAAoB,CAC9B;;EAEH,IAAIZ,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAACrB,KAAK,CAAC;EACzCQ,KAAK,GAAGc,sBAAsB,CAACd,KAAK,CAAC;EACrC;EACA,OAAiC;IAC/B;IACAE,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUjB,oBAAoBA,CAC5BQ,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB;EACA;EACA,IAAI,CAACvB,KAAK,CAACuE,aAAa,CAACjD,KAAK,CAAC,EAAE;IAC/B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,8BAA8B,CAC/B;;EAEH;EACA,OAAO,OAAOb,eAAe,CAACS,QAAQ,EAAEC,KAAK,CAACyB,OAAO,EAAE,EAAExB,WAAW,CAAC;AACvE;AAEA,UAAUT,eAAeA,CACvBO,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACA,WAAW,CAACY,KAAK,IAAId,QAAQ,CAACY,IAAI,KAAK,QAAQ,EAAE;IACpD,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACmC,oBAAoB,CAC9B;;EAEH,IAAI,OAAOd,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,wBAAwB,CACzB;;EAEH,IAAIH,KAAK,GAAG,CAAC,EAAE;IACb,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyC,oBAAoB,CAC9B;;EAEH,IAAIZ,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAACrB,KAAK,CAAC;EACzCQ,KAAK,GAAGc,sBAAsB,CAACd,KAAK,CAAC;EACrC;EACA,OAAiC;IAC/B;IACAE,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUf,WAAWA,CACnBM,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACA,WAAW,CAACY,KAAK,IAAId,QAAQ,CAACY,IAAI,KAAK,QAAQ,EAAE;IACpD,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACmC,oBAAoB,CAC9B;;EAEH,IAAI,CAAClC,OAAA,CAAAP,OAAE,CAAC6E,IAAI,CAAClD,KAAK,CAAC,EAAE;IACnB,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,oBAAoB,CACrB;;EAEH,IAAIH,KAAK,CAACmD,KAAK,EAAE,EAAE;IACjB,MAAM,IAAI5E,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyC,oBAAoB,CAC9B;;EAEH,IAAIZ,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAACrB,KAAK,CAAC;EACzCQ,KAAK,GAAGc,sBAAsB,CAACd,KAAK,CAAC;EACrC;EACA,OAAiC;IAC/B;IACAE,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUd,YAAYA,CACpBK,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACA,WAAW,CAACY,KAAK,IAAId,QAAQ,CAACY,IAAI,KAAK,QAAQ,EAAE;IACpD,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACmC,oBAAoB,CAC9B;;EAEH,IAAI,CAACtC,UAAU,CAAC4E,KAAK,CAACpD,KAAK,CAAC,EAAE;IAC5B,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,qBAAqB,CACtB;;EAEH,IAAI3B,UAAU,CAAC6E,kBAAkB,CAACrD,KAAK,CAAC,KAAK,CAAC,EAAE;IAC9C,MAAM,IAAIzB,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACmE,iBAAiB,CAC3B;;EAEH,IAAI9C,KAAK,CAACsD,EAAE,CAAC,CAAC,CAAC,EAAE;IACf,MAAM,IAAI/E,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyC,oBAAoB,CAC9B;;EAEH,IAAIZ,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAACrB,KAAK,CAAC;EACzCQ,KAAK,GAAGc,sBAAsB,CAACd,KAAK,CAAC;EACrC;EACA,OAAiC;IAC/B;IACAE,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,UAAUb,cAAcA,CACtBI,QAAgC,EAChCC,KAAc,EACdC,WAAwB;EAExB,IAAI,CAACA,WAAW,CAACY,KAAK,IAAId,QAAQ,CAACY,IAAI,KAAK,QAAQ,EAAE;IACpD;IACA,MAAM,IAAIpC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACD,0GAA0G,CAC3G;;EAEH,MAAMoD,OAAO,GAAG;IAAE5C,IAAI,EAAE,SAAkB;IAAEX;EAAK,CAAE;EACnD,MAAMwD,QAAQ,GAAG,MAAMD,OAAO;EAC9B,IAAIC,QAAQ,CAAC7C,IAAI,KAAK,SAAS,EAAE;IAC/B,MAAM,IAAIpC,QAAA,CAAAkF,oBAAoB,CAACF,OAAO,EAAEC,QAAQ,CAAC;;EAEnD,IAAIA,QAAQ,CAAC5C,KAAK,KAAK,IAAI,EAAE;IAC3B,MAAM,IAAIrC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChBqD,QAAQ,CAACE,mBAAmB,GAAG,CAAC,GAAG,CAAC,EACpCF,QAAQ,CAACG,MAAM,IACb,yHAAyH,CAC5H;;EAEH,IAAIH,QAAQ,CAAC5C,KAAK,GAAG,CAAC,EAAE;IACtB,MAAM,IAAIrC,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLC,WAAW,CAACE,IAAI,EAChB,CAAC,EACDxB,QAAQ,CAACyC,oBAAoB,CAC9B;;EAEH,IAAIZ,KAAK,GAAGhC,UAAU,CAAC6C,WAAW,CAACmC,QAAQ,CAAC5C,KAAK,CAAC;EAClDJ,KAAK,GAAGc,sBAAsB,CAACd,KAAK,CAAC;EACrC;EACA,OAAiC;IAC/B;IACAE,IAAI,EAAEX,QAAQ;IACdY,IAAI,EAAE,OAAgB;IACtBC,KAAK,EAAE;MACLJ;;GAEH;AACH;AAEA,SAAgBmB,sBAAsBA,CACpC3B,KAAqB,EACrBD,QAA2B;AAAE;AAC7BI,IAAY,CAAC;AAAA,E;EAEb;EACA;EACA,IAAIH,KAAK,YAAY4B,UAAU,EAAE;IAC/B,OAAO,CAAC;;;EAEV,IAAI,CAACc,MAAM,CAACK,aAAa,CAAC/C,KAAK,CAACsC,MAAM,CAAC,EAAE;IACvC,MAAM,IAAI/D,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLG,IAAI,EACJ,CAAC,EACD,gEAAgE,CACjE;;EAEH,IAAIH,KAAK,CAACsC,MAAM,GAAG,CAAC,EAAE;IACpB,MAAM,IAAI/D,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLG,IAAI,EACJ,CAAC,EACD,sDAAsD,CACvD;;EAEH;EACA,KAAK,IAAIyD,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG5D,KAAK,CAACsC,MAAM,EAAEsB,KAAK,EAAE,EAAE;IACjD,IACE,OAAO5D,KAAK,CAAC4D,KAAK,CAAC,KAAK,QAAQ,IAChC5D,KAAK,CAAC4D,KAAK,CAAC,GAAG,CAAC,IAChB5D,KAAK,CAAC4D,KAAK,CAAC,IAAI,GAAG,IACnB,CAAClB,MAAM,CAACG,SAAS,CAAC7C,KAAK,CAAC4D,KAAK,CAAC,CAAC,EAC/B;MACA,MAAM,IAAIrF,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLG,IAAI,EACJ,CAAC,EACD,sCAAsCyD,KAAK,+CAA+C,CAC3F;;;EAGL;AACF;;AA9CAhE,OAAA,CAAA+B,sBAAA,GAAAA,sBAAA;AAgDA,SAASlB,cAAcA,CACrBV,QAAgC,EAChCS,KAAa,EACbR,KAAc;AAAE;AAChBG,IAAY,CAAC;AAAA,E;EAEbK,KAAK,GAAGA,KAAK,CAACqD,WAAW,EAAE;EAC3B;EACA,IAAI9D,QAAQ,CAACY,IAAI,KAAK,QAAQ,EAAE;IAC9B,IAAI,CAACH,KAAK,CAAC8B,MAAM,GAAG,CAAC,IAAI,CAAC,GAAGvC,QAAQ,CAACuC,MAAM,EAAE;MAC5C,MAAM,IAAI/D,QAAA,CAAA2B,iBAAiB,CACzBH,QAAQ,EACRC,KAAK,EACLG,IAAI,EACJ,CAAC,EACDxB,QAAQ,CAACmF,eAAe,CAAC/D,QAAQ,CAACuC,MAAM,EAAE,CAAC9B,KAAK,CAAC8B,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAClE;KACF,MAAM;MACL9B,KAAK,GAAGA,KAAK,CAACuD,MAAM,CAAChE,QAAQ,CAACuC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC;;;EAGvD,OAAO9B,KAAK;AACd;AAEA;AACA;AACA;AACA,SAASc,sBAAsBA,CAACd,KAAa;EAC3C,OAAOA,KAAK,KAAK,IAAI,GAAG,MAAM,GAAGA,KAAK;AACxC"},"metadata":{},"sourceType":"script","externalDependencies":[]}