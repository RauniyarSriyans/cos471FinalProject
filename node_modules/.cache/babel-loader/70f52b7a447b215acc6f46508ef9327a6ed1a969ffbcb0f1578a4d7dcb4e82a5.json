{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decimalCases = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)(\"codec:wrap:decimal\");\nconst dispatch_1 = require(\"./dispatch\");\nconst errors_1 = require(\"./errors\");\nconst Conversion = __importStar(require(\"../conversion\"));\nconst Utils = __importStar(require(\"./utils\"));\nconst Messages = __importStar(require(\"./messages\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst big_js_1 = __importDefault(require(\"big.js\"));\n//note: doesn't include UDVT case,\n//or error case\nconst decimalFromWrappedValueCases = [decimalFromCodecDecimalValue, decimalFromCodecIntegerValue, decimalFromCodecEnumValue];\nconst decimalCasesBasic = [decimalFromNumber, decimalFromString, decimalFromBoxedNumber, decimalFromBoxedString, decimalFromBigint, decimalFromBN, decimalFromBig, ...decimalFromWrappedValueCases, decimalFromCodecUdvtValue, decimalFromCodecEnumError, decimalFromOther //must go last!\n];\n\nexports.decimalCases = [decimalFromTypeValueInput, ...decimalCasesBasic];\nfunction* decimalFromBig(dataType, input, wrapOptions) {\n  if (!Conversion.isBig(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a Big\");\n  }\n  const asBig = input.plus(0); //clone\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromBN(dataType, input, wrapOptions) {\n  if (!bn_js_1.default.isBN(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a BN\");\n  }\n  const asBig = Conversion.toBig(input);\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromBigint(dataType, input, wrapOptions) {\n  if (typeof input !== \"bigint\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a bigint\");\n  }\n  const asBig = Conversion.toBig(input);\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromString(dataType, input, wrapOptions) {\n  if (typeof input !== \"string\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a string\");\n  }\n  const trimmed = input.trim(); //allow whitespace\n  const stripped = Utils.removeUnderscoresNoHex(trimmed);\n  let asBig;\n  try {\n    asBig = new big_js_1.default(stripped);\n  } catch (_a) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.nonNumericMessage);\n  }\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromNumber(dataType, input, wrapOptions) {\n  if (typeof input !== \"number\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a number\");\n  }\n  if (!Number.isFinite(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, \"Numeric value is not finite\");\n  }\n  if (!Utils.isSafeNumber(dataType, input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, \"Given number is outside the safe range for this data type (possible loss of precision); use a numeric string, bigint, or big number class instead\");\n  }\n  const asBig = new big_js_1.default(input);\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromBoxedString(dataType, input, wrapOptions) {\n  if (!Utils.isBoxedString(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a boxed string\");\n  }\n  //unbox and try again\n  return yield* decimalFromString(dataType, input.valueOf(), wrapOptions);\n}\nfunction* decimalFromBoxedNumber(dataType, input, wrapOptions) {\n  if (!Utils.isBoxedNumber(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a boxed number\");\n  }\n  //unbox and try again\n  return yield* decimalFromNumber(dataType, input.valueOf(), wrapOptions);\n}\nfunction* decimalFromCodecDecimalValue(dataType, input, wrapOptions) {\n  if (!Utils.isWrappedResult(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a wrapped result\");\n  }\n  if (input.type.typeClass !== \"fixed\" && input.type.typeClass !== \"ufixed\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  if (input.kind !== \"value\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.errorResultMessage);\n  }\n  if (!wrapOptions.loose && (input.type.typeClass !== dataType.typeClass || input.type.bits !== dataType.bits || input.type.places !== dataType.places)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  const asBig = input.value.asBig.plus(0); //clone\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromCodecIntegerValue(dataType, input, wrapOptions) {\n  if (!Utils.isWrappedResult(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a wrapped result\");\n  }\n  if (input.type.typeClass !== \"int\" && input.type.typeClass !== \"uint\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  if (input.kind !== \"value\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.errorResultMessage);\n  }\n  if (!wrapOptions.loose) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  const asBig = Conversion.toBig(input.value.asBN);\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromCodecEnumValue(dataType, input, wrapOptions) {\n  if (!Utils.isWrappedResult(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a wrapped result\");\n  }\n  if (input.type.typeClass !== \"enum\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  if (input.kind !== \"value\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1,\n    //only specificity 1 due to EnumError case\n    Messages.errorResultMessage);\n  }\n  if (!wrapOptions.loose) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  const asBig = Conversion.toBig(input.value.numericAsBN);\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromCodecEnumError(dataType, input, wrapOptions) {\n  if (!Utils.isWrappedResult(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a wrapped result\");\n  }\n  if (input.type.typeClass !== \"enum\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  if (input.kind !== \"error\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Wrapped result was a value rather than an error\");\n  }\n  if (!wrapOptions.loose) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.wrappedTypeMessage(input.type));\n  }\n  const coercedInput = input;\n  //only one specific kind of error will be allowed\n  if (coercedInput.error.kind !== \"EnumOutOfRangeError\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.errorResultMessage);\n  }\n  const asBig = Conversion.toBig(coercedInput.error.rawAsBN);\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction* decimalFromCodecUdvtValue(dataType, input, wrapOptions) {\n  if (!Utils.isWrappedResult(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a wrapped result\");\n  }\n  if (input.type.typeClass !== \"userDefinedValueType\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, Messages.wrappedTypeMessage(input.type));\n  }\n  if (input.kind !== \"value\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.errorResultMessage);\n  }\n  return yield* (0, dispatch_1.wrapWithCases)(dataType, input.value, wrapOptions, decimalFromWrappedValueCases);\n}\nfunction* decimalFromTypeValueInput(dataType, input, wrapOptions) {\n  if (!Utils.isTypeValueInput(input)) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 1, \"Input was not a type/value pair\");\n  }\n  if (!input.type.match(/^u?fixed(\\d+(x\\d+)?)?$/) && input.type !== \"decimal\") {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.specifiedTypeMessage(input.type));\n  }\n  let bits, places;\n  let typeClass;\n  if (input.type === \"decimal\") {\n    //vyper's decimal type corresponds to fixed168x10\n    typeClass = \"fixed\";\n    bits = 168;\n    places = 10;\n  } else {\n    const [_0, typeClassTemporary, _2, bitsAsString, _4, placesAsString] = input.type.match(/^(u?fixed)((\\d+)(x(\\d+))?)?$/);\n    //not all of the fields in this match are used, so we discard them into _n variables\n    bits = bitsAsString ? Number(bitsAsString) : 128; //defaults to 128\n    places = placesAsString ? Number(placesAsString) : 18; //defaults to 18\n    typeClass = typeClassTemporary;\n  }\n  if (dataType.typeClass !== typeClass || dataType.bits !== bits || dataType.places !== places) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, 5, Messages.specifiedTypeMessage(input.type));\n  }\n  //extract value & try again, with loose option turned on\n  return yield* (0, dispatch_1.wrapWithCases)(dataType, input.value, Object.assign(Object.assign({}, wrapOptions), {\n    loose: true\n  }), decimalCasesBasic);\n}\nfunction* decimalFromOther(dataType, input, wrapOptions) {\n  const request = {\n    kind: \"decimal\",\n    input\n  };\n  const response = yield request;\n  if (response.kind !== \"decimal\") {\n    throw new errors_1.BadResponseTypeError(request, response);\n  }\n  if (response.value === null) {\n    throw new errors_1.TypeMismatchError(dataType, input, wrapOptions.name, response.partiallyRecognized ? 5 : 3, response.reason || Messages.unrecognizedNumberMessage(dataType));\n  }\n  const asBig = response.value.plus(0); //clone\n  validate(dataType, asBig, input, wrapOptions.name);\n  return {\n    //IDK why TS is screwing up here\n    type: dataType,\n    kind: \"value\",\n    value: {\n      asBig\n    }\n  };\n}\nfunction validate(dataType, asBig, input,\n//just for errors\nname //for errors\n) {\n  if (Conversion.countDecimalPlaces(asBig) > dataType.places) {\n    throw new errors_1.TypeMismatchError(dataType, input, name, 5, Messages.tooPreciseMessage(dataType.places, Conversion.countDecimalPlaces(asBig)));\n  }\n  if (asBig.gt(Utils.maxValue(dataType)) || asBig.lt(Utils.minValue(dataType))) {\n    throw new errors_1.TypeMismatchError(dataType, input, name, 5, Messages.outOfRangeMessage);\n  }\n}","map":{"version":3,"names":["debug_1","__importDefault","require","debug","default","dispatch_1","errors_1","Conversion","__importStar","Utils","Messages","bn_js_1","big_js_1","decimalFromWrappedValueCases","decimalFromCodecDecimalValue","decimalFromCodecIntegerValue","decimalFromCodecEnumValue","decimalCasesBasic","decimalFromNumber","decimalFromString","decimalFromBoxedNumber","decimalFromBoxedString","decimalFromBigint","decimalFromBN","decimalFromBig","decimalFromCodecUdvtValue","decimalFromCodecEnumError","decimalFromOther","exports","decimalCases","decimalFromTypeValueInput","dataType","input","wrapOptions","isBig","TypeMismatchError","name","asBig","plus","validate","type","kind","value","isBN","toBig","trimmed","trim","stripped","removeUnderscoresNoHex","_a","nonNumericMessage","Number","isFinite","isSafeNumber","isBoxedString","valueOf","isBoxedNumber","isWrappedResult","typeClass","wrappedTypeMessage","errorResultMessage","loose","bits","places","asBN","numericAsBN","coercedInput","error","rawAsBN","wrapWithCases","isTypeValueInput","match","specifiedTypeMessage","_0","typeClassTemporary","_2","bitsAsString","_4","placesAsString","Object","assign","request","response","BadResponseTypeError","partiallyRecognized","reason","unrecognizedNumberMessage","countDecimalPlaces","tooPreciseMessage","gt","maxValue","lt","minValue","outOfRangeMessage"],"sources":["../../../lib/wrap/decimal.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}