{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StreamArbitrary = void 0;\nconst Arbitrary_1 = require(\"../../check/arbitrary/definition/Arbitrary\");\nconst Value_1 = require(\"../../check/arbitrary/definition/Value\");\nconst symbols_1 = require(\"../../check/symbols\");\nconst Stream_1 = require(\"../../stream/Stream\");\nconst stringify_1 = require(\"../../utils/stringify\");\nfunction prettyPrint(seenValuesStrings) {\n  return `Stream(${seenValuesStrings.join(',')}…)`;\n}\nclass StreamArbitrary extends Arbitrary_1.Arbitrary {\n  constructor(arb) {\n    super();\n    this.arb = arb;\n  }\n  generate(mrng, biasFactor) {\n    const appliedBiasFactor = biasFactor !== undefined && mrng.nextInt(1, biasFactor) === 1 ? biasFactor : undefined;\n    const enrichedProducer = () => {\n      const seenValues = [];\n      const g = function* (arb, clonedMrng) {\n        while (true) {\n          const value = arb.generate(clonedMrng, appliedBiasFactor).value;\n          seenValues.push(value);\n          yield value;\n        }\n      };\n      const s = new Stream_1.Stream(g(this.arb, mrng.clone()));\n      return Object.defineProperties(s, {\n        toString: {\n          value: () => prettyPrint(seenValues.map(stringify_1.stringify))\n        },\n        [stringify_1.toStringMethod]: {\n          value: () => prettyPrint(seenValues.map(stringify_1.stringify))\n        },\n        [stringify_1.asyncToStringMethod]: {\n          value: async () => prettyPrint(await Promise.all(seenValues.map(stringify_1.asyncStringify)))\n        },\n        [symbols_1.cloneMethod]: {\n          value: enrichedProducer,\n          enumerable: true\n        }\n      });\n    };\n    return new Value_1.Value(enrichedProducer(), undefined);\n  }\n  canShrinkWithoutContext(value) {\n    return false;\n  }\n  shrink(_value, _context) {\n    return Stream_1.Stream.nil();\n  }\n}\nexports.StreamArbitrary = StreamArbitrary;","map":{"version":3,"names":["Object","defineProperty","exports","value","StreamArbitrary","Arbitrary_1","require","Value_1","symbols_1","Stream_1","stringify_1","prettyPrint","seenValuesStrings","join","Arbitrary","constructor","arb","generate","mrng","biasFactor","appliedBiasFactor","undefined","nextInt","enrichedProducer","seenValues","g","clonedMrng","push","s","Stream","clone","defineProperties","toString","map","stringify","toStringMethod","asyncToStringMethod","Promise","all","asyncStringify","cloneMethod","enumerable","Value","canShrinkWithoutContext","shrink","_value","_context","nil"],"sources":["/Users/karimelbarbary/Desktop/test4/devote/node_modules/fast-check/lib/arbitrary/_internals/StreamArbitrary.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StreamArbitrary = void 0;\nconst Arbitrary_1 = require(\"../../check/arbitrary/definition/Arbitrary\");\nconst Value_1 = require(\"../../check/arbitrary/definition/Value\");\nconst symbols_1 = require(\"../../check/symbols\");\nconst Stream_1 = require(\"../../stream/Stream\");\nconst stringify_1 = require(\"../../utils/stringify\");\nfunction prettyPrint(seenValuesStrings) {\n    return `Stream(${seenValuesStrings.join(',')}…)`;\n}\nclass StreamArbitrary extends Arbitrary_1.Arbitrary {\n    constructor(arb) {\n        super();\n        this.arb = arb;\n    }\n    generate(mrng, biasFactor) {\n        const appliedBiasFactor = biasFactor !== undefined && mrng.nextInt(1, biasFactor) === 1 ? biasFactor : undefined;\n        const enrichedProducer = () => {\n            const seenValues = [];\n            const g = function* (arb, clonedMrng) {\n                while (true) {\n                    const value = arb.generate(clonedMrng, appliedBiasFactor).value;\n                    seenValues.push(value);\n                    yield value;\n                }\n            };\n            const s = new Stream_1.Stream(g(this.arb, mrng.clone()));\n            return Object.defineProperties(s, {\n                toString: { value: () => prettyPrint(seenValues.map(stringify_1.stringify)) },\n                [stringify_1.toStringMethod]: { value: () => prettyPrint(seenValues.map(stringify_1.stringify)) },\n                [stringify_1.asyncToStringMethod]: { value: async () => prettyPrint(await Promise.all(seenValues.map(stringify_1.asyncStringify))) },\n                [symbols_1.cloneMethod]: { value: enrichedProducer, enumerable: true },\n            });\n        };\n        return new Value_1.Value(enrichedProducer(), undefined);\n    }\n    canShrinkWithoutContext(value) {\n        return false;\n    }\n    shrink(_value, _context) {\n        return Stream_1.Stream.nil();\n    }\n}\nexports.StreamArbitrary = StreamArbitrary;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,eAAe,GAAG,KAAK,CAAC;AAChC,MAAMC,WAAW,GAAGC,OAAO,CAAC,4CAA4C,CAAC;AACzE,MAAMC,OAAO,GAAGD,OAAO,CAAC,wCAAwC,CAAC;AACjE,MAAME,SAAS,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAChD,MAAMG,QAAQ,GAAGH,OAAO,CAAC,qBAAqB,CAAC;AAC/C,MAAMI,WAAW,GAAGJ,OAAO,CAAC,uBAAuB,CAAC;AACpD,SAASK,WAAWA,CAACC,iBAAiB,EAAE;EACpC,OAAQ,UAASA,iBAAiB,CAACC,IAAI,CAAC,GAAG,CAAE,IAAG;AACpD;AACA,MAAMT,eAAe,SAASC,WAAW,CAACS,SAAS,CAAC;EAChDC,WAAWA,CAACC,GAAG,EAAE;IACb,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,GAAG,GAAGA,GAAG;EAClB;EACAC,QAAQA,CAACC,IAAI,EAAEC,UAAU,EAAE;IACvB,MAAMC,iBAAiB,GAAGD,UAAU,KAAKE,SAAS,IAAIH,IAAI,CAACI,OAAO,CAAC,CAAC,EAAEH,UAAU,CAAC,KAAK,CAAC,GAAGA,UAAU,GAAGE,SAAS;IAChH,MAAME,gBAAgB,GAAGA,CAAA,KAAM;MAC3B,MAAMC,UAAU,GAAG,EAAE;MACrB,MAAMC,CAAC,GAAG,UAAAA,CAAWT,GAAG,EAAEU,UAAU,EAAE;QAClC,OAAO,IAAI,EAAE;UACT,MAAMvB,KAAK,GAAGa,GAAG,CAACC,QAAQ,CAACS,UAAU,EAAEN,iBAAiB,CAAC,CAACjB,KAAK;UAC/DqB,UAAU,CAACG,IAAI,CAACxB,KAAK,CAAC;UACtB,MAAMA,KAAK;QACf;MACJ,CAAC;MACD,MAAMyB,CAAC,GAAG,IAAInB,QAAQ,CAACoB,MAAM,CAACJ,CAAC,CAAC,IAAI,CAACT,GAAG,EAAEE,IAAI,CAACY,KAAK,CAAC,CAAC,CAAC,CAAC;MACxD,OAAO9B,MAAM,CAAC+B,gBAAgB,CAACH,CAAC,EAAE;QAC9BI,QAAQ,EAAE;UAAE7B,KAAK,EAAEA,CAAA,KAAMQ,WAAW,CAACa,UAAU,CAACS,GAAG,CAACvB,WAAW,CAACwB,SAAS,CAAC;QAAE,CAAC;QAC7E,CAACxB,WAAW,CAACyB,cAAc,GAAG;UAAEhC,KAAK,EAAEA,CAAA,KAAMQ,WAAW,CAACa,UAAU,CAACS,GAAG,CAACvB,WAAW,CAACwB,SAAS,CAAC;QAAE,CAAC;QACjG,CAACxB,WAAW,CAAC0B,mBAAmB,GAAG;UAAEjC,KAAK,EAAE,MAAAA,CAAA,KAAYQ,WAAW,CAAC,MAAM0B,OAAO,CAACC,GAAG,CAACd,UAAU,CAACS,GAAG,CAACvB,WAAW,CAAC6B,cAAc,CAAC,CAAC;QAAE,CAAC;QACpI,CAAC/B,SAAS,CAACgC,WAAW,GAAG;UAAErC,KAAK,EAAEoB,gBAAgB;UAAEkB,UAAU,EAAE;QAAK;MACzE,CAAC,CAAC;IACN,CAAC;IACD,OAAO,IAAIlC,OAAO,CAACmC,KAAK,CAACnB,gBAAgB,CAAC,CAAC,EAAEF,SAAS,CAAC;EAC3D;EACAsB,uBAAuBA,CAACxC,KAAK,EAAE;IAC3B,OAAO,KAAK;EAChB;EACAyC,MAAMA,CAACC,MAAM,EAAEC,QAAQ,EAAE;IACrB,OAAOrC,QAAQ,CAACoB,MAAM,CAACkB,GAAG,CAAC,CAAC;EAChC;AACJ;AACA7C,OAAO,CAACE,eAAe,GAAGA,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}